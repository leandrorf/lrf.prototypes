@{
    ViewData["Title"] = "InÃ­cio";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="card">
    <h2>ğŸŒŸ Bem-vindo ao OAuth do Zero</h2>
    
    <div style="text-align: center; margin: 30px 0;">
        <p style="font-size: 18px; color: #555; margin-bottom: 30px;">
            Servidor de identidade OAuth 2.0 e OpenID Connect criado do zero
        </p>

        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 30px 0;">
            <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 4px solid #28a745;">
                <h3 style="color: #28a745; margin-bottom: 10px;">ğŸ” OAuth 2.0</h3>
                <p style="font-size: 14px; color: #666;">Framework de autorizaÃ§Ã£o seguro</p>
            </div>
            
            <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 4px solid #007bff;">
                <h3 style="color: #007bff; margin-bottom: 10px;">ğŸ†” OpenID Connect</h3>
                <p style="font-size: 14px; color: #666;">Camada de autenticaÃ§Ã£o</p>
            </div>
            
            <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 4px solid #dc3545;">
                <h3 style="color: #dc3545; margin-bottom: 10px;">ğŸ›¡ï¸ PKCE</h3>
                <p style="font-size: 14px; color: #666;">ProteÃ§Ã£o avanÃ§ada contra ataques</p>
            </div>
        </div>

        @if (User.Identity?.IsAuthenticated == true)
        {
            <div style="background: #d4edda; border: 1px solid #c3e6cb; border-radius: 8px; padding: 20px; margin: 20px 0;">
                <h4 style="color: #155724; margin-bottom: 15px;">âœ… VocÃª estÃ¡ autenticado</h4>
                <p style="color: #155724; margin-bottom: 15px;">
                    <strong>UsuÃ¡rio:</strong> @User.Identity.Name
                </p>
                <a asp-controller="Account" asp-action="Logout" class="btn btn-secondary" style="width: auto; padding: 10px 20px;">
                    ğŸšª Sair
                </a>
            </div>
        }
        else
        {
            <div style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 20px; margin: 20px 0;">
                <h4 style="color: #856404; margin-bottom: 15px;">ğŸ”‘ FaÃ§a login para continuar</h4>
                <a href="/Account/Login" class="btn" style="width: auto; padding: 10px 20px;">
                    ğŸš€ Entrar
                </a>
            </div>
        }
    </div>

    <div style="margin-top: 40px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
        <h3 style="color: #333; margin-bottom: 15px;">ğŸ”§ Endpoints DisponÃ­veis</h3>
        
        <div style="display: grid; gap: 15px;">
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px; background: white; border-radius: 5px;">
                <span style="font-weight: 500;">AutorizaÃ§Ã£o:</span>
                <code style="background: #e9ecef; padding: 5px 10px; border-radius: 4px; font-size: 12px;">/oauth/authorize</code>
            </div>
            
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px; background: white; border-radius: 5px;">
                <span style="font-weight: 500;">Token:</span>
                <code style="background: #e9ecef; padding: 5px 10px; border-radius: 4px; font-size: 12px;">/oauth/token</code>
            </div>
            
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px; background: white; border-radius: 5px;">
                <span style="font-weight: 500;">UserInfo:</span>
                <code style="background: #e9ecef; padding: 5px 10px; border-radius: 4px; font-size: 12px;">/oauth/userinfo</code>
            </div>
            
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px; background: white; border-radius: 5px;">
                <span style="font-weight: 500;">Descoberta:</span>
                <code style="background: #e9ecef; padding: 5px 10px; border-radius: 4px; font-size: 12px;">/.well-known/openid-configuration</code>
            </div>
        </div>
    </div>

    <div style="text-align: center; margin-top: 30px; padding-top: 20px; border-top: 1px solid #dee2e6;">
        <p style="font-size: 14px; color: #6c757d;">
            ğŸ’¡ Servidor implementado com .NET 8, Entity Framework Core e MySQL<br>
            ğŸ¯ Focado em aprendizado e compreensÃ£o dos protocolos OAuth 2.0 e OpenID Connect
        </p>
    </div>
</div>